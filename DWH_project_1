При проектировании хранилища данных для компании, занимающейся продажей электроники, осуществляем последовательность шагов.

1. Определяем задачу, которую решает хранилище. Допустим,у нас несколько задач. 
  Во-первых, нам нужно подготовить статистику продаж за несколько лет, т.е. мы собираем исторические данные. 
  Во-вторых, нам нужно повысить уровень сервиса, анализируя кол-во и причины возвратов. 
  В-третьих, нам нужно автоматизировать расчет KPI для менеджеров, а также расчет их премий на основании KPI.

2. Анализируем наличие и качество данных.
  Данные хранятся в 1С с достаточным уровнем качества, поставляются с личных кабинетов маркетплейсов и требуют предобработки, хранятся в Excel-файлах качество низкое, бывает много ошибок.

3. Проектируем модель данных для кажддого слоя. Для ДЗ модель делаем только для слоя DDS. 
  Схема нарисована отдельно.

4. Описываем путь данных по слоям stage-ods-dds-datamart.

    Слой сырых данных (Stage). Представляет собой отдельную хранения, куда данные попадают сразу после извлечения из исходных систем (1С, веб-сервисы, локальные файлы excel). 
    Здесь мы должны изолировать «сырые» данные от основной аналитической инфраструктуры и минимизировать нагрузку на боевые базы. 
    На этом этапе выполняется глубокая трансформация базовая стандартизация (например, приведение типов данных, удаление дубликатов или форматирование временных меток). 
    Это упрощает последующий аудит, позволяет воспроизвести исторические выгрузки и служит удобной точкой входа для отладки данных до загрузки в ODS.

    Слой ODS (Operational Data Store) представляет собой промежуточный уровень между сырыми данными (Stage) и аналитическим хранилищем (DWH) или слоем DDS. 
    Тут данные из различных источников объединяются, очищаются и стандартизируются. 
    Этот слой особенно важен для оперативной отчетности — когда бизнесу нужно принимать решения на основе максимально свежих данных, не дожидаясь полной обработки и агрегации в DWH. 
    В ODS обычно хранятся данные в низкой степени агрегации, в формате, близком к исходному, но уже очищенные и согласованные по ключевым атрибутам.
